!function(e,r,t){"use strict";var n=function(){var n=Array.prototype.slice.call(arguments);return r.split(".").reduce(function(e,r,i,o){var a=i===o.length-1?t.apply(void 0,n):{};return void 0===e[r]?e[r]=a:e[r]},e)};"function"==typeof define&&define.amd?define(r,[],t):"object"==typeof module&&module.exports?module.exports=t():n()}(this,"NationalInstruments.Vireo.Core.assignCoreHelpers",function(){"use strict";var e=function(e,r){e.coreHelpers={},r.coreHelpers={};var t=function(){},n=!1,i=0,o=0,a={NO_ERROR:0};e.coreHelpers.jsExecutionContextFPSync=function(r){var n=e.eggShell.dataReadString(r);t(n)},r.coreHelpers.setFPSyncFunction=function(e){if("function"!=typeof e)throw new Error("FPSync must be a callable function");t=e},e.coreHelpers.findCStringLength=function(e,r){var t,n=e.length;for(t=r;n>t;t+=1)if(0===e[t])return t-r;return-1},e.coreHelpers.writeJSStringToStack=function(r){var t=(r.length<<2)+1,n=e.Runtime.stackAlloc(t);return e.stringToUTF8(r,n,t),n},e.coreHelpers.writeJSStringToHeap=function(r){var t=(r.length<<2)+1,n=e._malloc(t);return e.stringToUTF8(r,n,t),n},e.coreHelpers.sizedUtf8ArrayToJSString=function(e,r,t){var n,i,o,a,l="�",u="��",s="���",g="����",d=r,c=r+t;c=c>e.length?e.length:c;var f="";if(0>=t)return f;for(;;){if(d>=c)return f;if(n=e[d++],128&n){if(192===(224&n)){if(d>=c||128!==(192&e[d])){f+=l;continue}}else if(224===(240&n)){if(d+1>=c||128!==(192&e[d])||128!==(192&e[d+1])){f+=l;continue}}else{if(240!==(248&n)){f+=l;continue}if(d+2>=c||128!==(192&e[d])||128!==(192&e[d+1])||128!==(192&e[d+2])){f+=l;continue}}if(i=63&e[d++],192!==(224&n)){if(o=63&e[d++],224===(240&n)){if(n=(15&n)<<12|i<<6|o,2048>n){f+=s;continue}}else if(a=63&e[d++],n=(7&n)<<18|i<<12|o<<6|a,65536>n){f+=g;continue}if(65536>n)f+=String.fromCharCode(n);else if(1114111>=n){var h=n-65536;f+=String.fromCharCode(55296|h>>10,56320|1023&h)}else f+=g}else{if(n=(31&n)<<6|i,128>n){f+=u;continue}f+=String.fromCharCode(n)}}else f+=String.fromCharCode(n)}},e.coreHelpers.jsCurrentBrowserFPS=function(){return n===!1&&(n=!0,i=performance.now(),requestAnimationFrame(function e(r){var t=r-i;o=1e3/t,i=r,requestAnimationFrame(e)})),o};var l=function(r,t,n,i,o,a){e.eggShell.dataWriteBoolean(i,r),e.eggShell.dataWriteInt32(o,t),e.eggShell.dataWriteString(a,n)};e.coreHelpers.mergeErrors=function(r,t,n,i,o,u){var s=e.eggShell.dataReadBoolean(i),g=s,d=r;if(!g){if(d)return void l(r,t,n,i,o,u);var c=e.eggShell.dataReadInt32(o),f=c!==a.NO_ERROR,h=t!==a.NO_ERROR;if(!f)return h?void l(r,t,n,i,o,u):void 0}}};return e}),function(e,r,t){"use strict";var n=function(){var n=Array.prototype.slice.call(arguments);return r.split(".").reduce(function(e,r,i,o){var a=i===o.length-1?t.apply(void 0,n):{};return void 0===e[r]?e[r]=a:e[r]},e)};"function"==typeof define&&define.amd?define(r,[],t):"object"==typeof module&&module.exports?module.exports=t():n()}(this,"NationalInstruments.Vireo.ModuleBuilders.assignEggShell",function(){"use strict";var e=function(e,r){e.eggShell={},r.eggShell={};var t,n=0,i=e.cwrap("Vireo_Version","number",[]),o=e.cwrap("EggShell_Create","number",["number"]),a=e.cwrap("EggShell_Delete","number",["number"]),l=e.cwrap("EggShell_ReadDouble","number",["number","string","string"]),u=e.cwrap("EggShell_WriteDouble","void",["number","string","string","number"]),s=e.cwrap("EggShell_WriteValueString","void",["number","string","string","string","string"]),g=e.cwrap("EggShell_GetArrayMetadata","number",["number","string","string","number","number","number","number"]),d=e.cwrap("EggShell_GetArrayDimLength","number",["number","string","string","number"]),c=e.cwrap("EggShell_ResizeArray","number",["number","string","string","number","number"]),f=e.cwrap("Data_GetStringBegin","number",[]),h=e.cwrap("Data_GetStringLength","number",[]),S=e.cwrap("Data_WriteString","void",["number","number","string","number"]),p=e.cwrap("Data_ReadBoolean","number",["number"]),v=e.cwrap("Data_WriteBoolean","void",["number","number"]),m=e.cwrap("Data_WriteInt32","void",["number","number"]),E=e.cwrap("Data_WriteUInt32","void",["number","number"]),_=e.cwrap("EggShell_ExecuteSlices","number",["number","number"]),b=e.cwrap("Occurrence_Set","void",["number"]),R=o(0),C=o(R);e.print=function(e){console.debug(e)},e.printErr=function(e){console.error(e)},r.eggShell.setPrintFunction=function(r){if("function"!=typeof r)throw new Error("Print must be a callable function");t=r,e.print=r},r.eggShell.setPrintErrorFunction=function(r){if("function"!=typeof r)throw new Error("PrintError must be a callable function");e.printErr=r},r.eggShell.internal_module_do_not_use_or_you_will_be_fired=e,e.eggShell.version=r.eggShell.version=i,e.eggShell.reboot=r.eggShell.reboot=function(){a(C),a(R),R=o(0),C=o(R)},e.eggShell.readDouble=r.eggShell.readDouble=function(e,r){return l(C,e,r)},e.eggShell.writeDouble=r.eggShell.writeDouble=function(e,r,t){u(C,e,r,t)},e.eggShell.readJSON=r.eggShell.readJSON=function(r,t){var n=e.Runtime.stackSave(),i="JSON",o=e.coreHelpers.writeJSStringToStack(r),a=e.coreHelpers.writeJSStringToStack(t),l=e.coreHelpers.writeJSStringToStack(i),u=e._EggShell_ReadValueString(C,o,a,l),s=e.coreHelpers.findCStringLength(e.HEAPU8,u),g=e.coreHelpers.sizedUtf8ArrayToJSString(e.HEAPU8,u,s);return e.Runtime.stackRestore(n),g},e.eggShell.writeJSON=r.eggShell.writeJSON=function(e,r,t){s(C,e,r,"JSON",t)};var y={Int8:e.HEAP8,Int16:e.HEAP16,Int32:e.HEAP32,UInt8:e.HEAPU8,UInt16:e.HEAPU16,UInt32:e.HEAPU32,Single:e.HEAPF32,Double:e.HEAPF64},H={0:"Success",1:"ObjectNotFoundAtPath",2:"UnexpectedObjectType",3:"InvalidResultPointer",4:"UnableToCreateReturnBuffer"},w=function(e,r,t,n){var i,o,a,l;if(t%n!==0)throw new Error("Cannot evenly split array into groups");for(o=[],a=[],l=0,i=0;t>i;i+=1)a[l]=e[r+i],l+=1,l===n&&(o.push(a),a=[],l=0);return o},A=function(e,r,t){var n,i=t.length,o=1;for(n=0;i>n;n+=1)o*=t[n];var a;if(1===i){for(a=[],n=0;o>n;n+=1)a[n]=e[r+n];return a}a=e;var l,u=r,s=o;for(n=0;i-1>n;n+=1)l=t[n],a=w(a,u,s,l),u=0,s=a.length;return a},I=e._malloc(4),N=e._malloc(4),O=e._malloc(4);e.eggShell.getNumericArray=r.eggShell.getNumericArray=function(r,t){var i=g(C,r,t,I,O,N);if(0!==i)throw new Error("Querying Array Metadata failed for the following reason: "+H[i]+" (error code: "+i+") (vi name: "+r+") (path: "+t+")");var o=e.getValue(I,"i32"),a=e.Pointer_stringify(o),l=e.getValue(O,"i32"),u=e.getValue(N,"i32"),s=y[a];if(void 0===s)throw new Error("Unsupported type: "+a+", the following types are supported: "+Object.keys(y).join(","));var d,c;if(u===n){for(c=[],d=0;l-1>d;d+=1)c=[c];return c}var f=u/s.BYTES_PER_ELEMENT,h=[];for(d=0;l>d;d+=1)h[d]=e.eggShell.getArrayDimLength(r,t,d);return c=A(s,f,h)},e.eggShell.getArrayDimLength=r.eggShell.getArrayDimLength=function(e,r,t){return d(C,e,r,t)},e.eggShell.resizeArray=r.eggShell.resizeArray=function(r,t,n){for(var i=4,o=n.length,a=e._malloc(o*i),l=0;o>l;l+=1)e.setValue(a+l*i,n[l],"i32");var u=c(C,r,t,o,a);return e._free(a),u},e.eggShell.dataReadString=function(r){var t=f(r),n=h(r),i=e.coreHelpers.sizedUtf8ArrayToJSString(e.HEAPU8,t,n);return i},e.eggShell.dataReadStringAsArray_NoCopy=function(r){var t=f(r),n=h(r);return e.HEAPU8.subarray(t,t+n)},e.eggShell.dataWriteString=function(r,t){var n=e.lengthBytesUTF8(t);S(C,r,t,n)},e.eggShell.dataWriteStringFromArray=function(r,t){var n=e._malloc(t.length);e.writeArrayToMemory(t,n),e._Data_WriteString(C,r,n,t.length),e._free(n)},e.eggShell.dataReadBoolean=function(e){var r=p(e);return 0!==r},e.eggShell.dataWriteBoolean=function(e,r){var t=r?1:0;v(e,t)},e.eggShell.dataReadInt32=function(r){return e.getValue(r,"i32")},e.eggShell.dataWriteInt32=function(e,r){m(e,r)},e.eggShell.dataReadUInt32=function(r){return e.getValue(r,"i32")},e.eggShell.dataWriteUInt32=function(e,r){E(e,r)},e.eggShell.loadVia=r.eggShell.loadVia=function(r){if("string"!=typeof r)throw new Error("Expected viaText to be a string");if(0===r.length)throw new Error("Empty viaText provided, nothing to run");void 0===t&&console.warn("Failing to call eggShell.setPrintFunction prior to eggShell.loadVia may result in missed messages");var n=e.lengthBytesUTF8(r),i=e.coreHelpers.writeJSStringToHeap(r),o=e._EggShell_REPL(C,i,n);return e._free(i),o},e.eggShell.executeSlices=r.eggShell.executeSlices=function(e){return _(C,e)},e.eggShell.setOccurrenceAsync=function(e){setTimeout(function(){b(e)},0)}};return e}),function(e,r,t){"use strict";var n=function(){var n=Array.prototype.slice.call(arguments);return r.split(".").reduce(function(e,r,i,o){var a=i===o.length-1?t.apply(void 0,n):{};return void 0===e[r]?e[r]=a:e[r]},e)};"function"==typeof define&&define.amd?define(r,[],t):"object"==typeof module&&module.exports?module.exports=t():n()}(this,"NationalInstruments.Vireo.ModuleBuilders.assignHttpClient",function(){"use strict";var e,r=1,t=0,n=0,i=0,o={NO_ERROR:0,NETWORK_ERROR:-1967370240,CLOSE_INVALID_HANDLE:-1967362020,RECEIVE_INVALID_HANDLE:1,TIMEOUT:56,INVALID_URL:363500,ABORT:363508,HEADER_DOES_NOT_EXIST:363528,HTTP_CLIENT_UNKNOWN_ERROR:363798,WEBVI_UNSUPPORTED_INPUT:363650,INVALID_HEADER:363651},a=1e4,l=1,u=function(e){return"string"==typeof e&&0!==e.length?"<APPEND>\n"+e:""},s=function(e,r){return"string"==typeof r.message&&0!==r.message.length?e+", Additional information: "+r.message:e};!function(){e=function(e,r){this._username=e,this._password=r,this._headers=new Map,this._includeCredentialsDuringCORS=!1};var r=[];e.abortAllRunningRequests=function(){var e=r.slice();e.forEach(function(e){e.abort()})};var t=e,n=t.prototype;n.addHeader=function(e,r){this._headers.set(e,r)},n.removeHeader=function(e){this._headers["delete"](e)},n.getHeaderValue=function(e){var r;return this._headers.has(e)&&(r=this._headers.get(e).trim()),r},n.listHeaders=function(){var e=[];return this._headers.forEach(function(r,t){e.push(t.trim()+": "+r.trim())}),e.join("\r\n")},n.createRequest=function(e,t){var n,i=new XMLHttpRequest;r.push(i);var a={},l=!1,u=function(e){if(l!==!0){l=!0,Object.keys(a).forEach(function(e){i.removeEventListener(e,a[e])});var n=r.indexOf(i);n>-1&&r.splice(n,1),t(e)}};a.load=function(){if(0===i.status)return void u({header:"",body:[],status:0,labviewCode:o.NETWORK_ERROR,errorMessage:"Network Error: Check Output or Console for more information"});var e="HTTP/1.1",r=e+" "+i.status+" "+i.statusText+"\r\n",t=i.getAllResponseHeaders(),n=r+t,a=new Uint8Array(i.response);u({header:n,body:a,status:i.status,labviewCode:o.NO_ERROR,errorMessage:""})},a.error=function(){u({header:"",body:[],status:0,labviewCode:o.NETWORK_ERROR,errorMessage:"Network Error: Check Output or Console for more information"})},a.timeout=function(){u({header:"",body:[],status:0,labviewCode:o.TIMEOUT,errorMessage:"Timeout"})},a.abort=function(){u({header:"",body:[],status:0,labviewCode:o.ABORT,errorMessage:"Request Aborted"})},Object.keys(a).forEach(function(e){i.addEventListener(e,a[e])});try{i.open(e.method,e.url,!0,this._username,this._password)}catch(g){return n=s("Invalid URL",g),void u({header:"",body:[],status:0,labviewCode:o.INVALID_URL,errorMessage:n})}var d,c;try{this._headers.forEach(function(e,r){d=r,c=e,i.setRequestHeader(r,e)})}catch(g){return n=s('Invalid Header: The provided header "'+d+'" with value "'+c+'" is invalid',g),void u({header:"",body:[],status:0,labviewCode:o.INVALID_HEADER,errorMessage:n})}i.withCredentials=this._includeCredentialsDuringCORS,i.responseType="arraybuffer",i.timeout=e.xhrTimeout;try{void 0===e.buffer?i.send():i.send(e.buffer)}catch(g){return n=s("Network Error: Check Output or Console for more information",g),void u({header:"",body:[],status:0,labviewCode:o.NETWORK_ERROR,errorMessage:n})}},n.setIncludeCredentialsDuringCORS=function(e){this._includeCredentialsDuringCORS=e}}();var g;!function(){g=function(){this._httpClients=new Map};var r=g,t=r.prototype,n=function(){var e=1;return function(){var r=e;return e+=1,r}}();t.create=function(r,t){var i=new e(r,t),o=n();return this._httpClients.set(o,i),o},t.destroy=function(e){var r=this._httpClients.get(e);void 0!==r&&this._httpClients["delete"](e)},t.get=function(e){return this._httpClients.get(e)}}();var d=function(s,d){s.httpClient={},d.httpClient={};var c=new g,f=["GET","HEAD","PUT","POST","DELETE"],h=function(e,r,t,n){var i,a=c.get(e);return void 0===a&&(i=u("Handle Not Found, Make sure to use HttpClientOpen to create a handle first"),s.coreHelpers.mergeErrors(!0,o.RECEIVE_INVALID_HANDLE,i,r,t,n)),a};d.httpClient.abortAllRunningRequests=function(){e.abortAllRunningRequests()},s.httpClient.jsHttpClientOpen=function(e,r,n,a,l,g,d,f){var h,S=function(){s.eggShell.dataWriteUInt32(l,i)},p=s.eggShell.dataReadString(e);if(""!==p)return h=u("Cookie File unsupported in WebVIs (please leave as default of empty string)"),s.coreHelpers.mergeErrors(!0,o.WEBVI_UNSUPPORTED_INPUT,h,g,d,f),void S();var v=a!==t;if(v!==!0)return h=u("Verify Server unsupported in WebVIs (please leave as default of true)"),s.coreHelpers.mergeErrors(!0,o.WEBVI_UNSUPPORTED_INPUT,h,g,d,f),void S();var m=s.eggShell.dataReadString(r),E=s.eggShell.dataReadString(n),_=c.create(m,E);s.eggShell.dataWriteUInt32(l,_)},s.httpClient.jsHttpClientClose=function(e,r,t,n){var i,a=void 0!==c.get(e);a===!1&&(i=u("Attempted to close an invalid or non-existant handle"),s.coreHelpers.mergeErrors(!0,o.CLOSE_INVALID_HANDLE,i,r,t,n)),c.destroy(e)},s.httpClient.jsHttpClientAddHeader=function(e,r,t,n,i,o){var a=h(e,n,i,o);if(void 0!==a){var l=s.eggShell.dataReadString(r),u=s.eggShell.dataReadString(t);a.addHeader(l,u)}},s.httpClient.jsHttpClientRemoveHeader=function(e,r,t,n,i){var o=h(e,t,n,i);if(void 0!==o){var a=s.eggShell.dataReadString(r);o.removeHeader(a)}},s.httpClient.jsHttpClientGetHeader=function(e,r,t,n,i,a){var l=function(){s.eggShell.dataWriteString(t,"")},g=h(e,n,i,a);if(void 0===g)return void l();var d,c=s.eggShell.dataReadString(r),f=g.getHeaderValue(c);return void 0===f?(d=u("The header "+c+" does not exist"),s.coreHelpers.mergeErrors(!0,o.HEADER_DOES_NOT_EXIST,d,n,i,a),void l()):void s.eggShell.dataWriteString(t,f)},s.httpClient.jsHttpClientHeaderExists=function(e,n,i,o,a,l,u){var g=function(){s.eggShell.dataWriteUInt32(i,t),s.eggShell.dataWriteString(o,"")},d=h(e,a,l,u);if(void 0===d)return void g();var c=s.eggShell.dataReadString(n),f=d.getHeaderValue(c),S=void 0!==f;return S===!1?void g():(s.eggShell.dataWriteUInt32(i,r),void s.eggShell.dataWriteString(o,f))},s.httpClient.jsHttpClientListHeaders=function(e,r,t,n,i){var o=function(){s.eggShell.dataWriteString(r,"")},a=h(e,t,n,i);if(void 0===a)return void o();var l=a.listHeaders();s.eggShell.dataWriteString(r,l)},s.httpClient.jsHttpClientMethod=function(r,t,i,g,d,c,S,p,v,m,E,_,b){var R,C,y=function(){s.eggShell.dataWriteString(S,""),s.eggShell.dataWriteUInt32(v,0),p!==n&&s.eggShell.dataWriteString(p,""),s.eggShell.setOccurrenceAsync(b)},H=f[r];if(g!==n&&(C=s.eggShell.dataReadString(g),""!==C))return R=u("Output File unsupported in WebVIs (please leave as default of empty string)"),s.coreHelpers.mergeErrors(!0,o.WEBVI_UNSUPPORTED_INPUT,R,m,E,_),void y();var w,A;d!==n&&(A=s.eggShell.dataReadStringAsArray_NoCopy(d),w=new Blob([A]));var I;if(t===n)I=new e("","");else if(I=h(t,m,E,_),void 0===I)return void y();var N,O;c===n?N=a:(O=s.eggShell.dataReadInt32(c),N=0>O?0:0===O?l:O);var T=s.eggShell.dataReadString(i),V={method:H,url:T,xhrTimeout:N,buffer:w};I.createRequest(V,function(e){s.eggShell.dataWriteString(S,e.header),s.eggShell.dataWriteUInt32(v,e.status),p!==n&&s.eggShell.dataWriteStringFromArray(p,e.body);var r=e.labviewCode!==o.NO_ERROR,t=e.labviewCode,i=u(e.errorMessage);s.coreHelpers.mergeErrors(r,t,i,m,E,_),s.eggShell.setOccurrenceAsync(b)})},s.httpClient.jsHttpClientConfigCORS=function(e,r,n,i,o){var a=h(e,"LabVIEWHTTPClient:Credentials",n,i,o);void 0!==a&&a.setIncludeCredentialsDuringCORS(r!==t)}};return d}),function(e,r,t){"use strict";var n=function(){var n=Array.prototype.slice.call(arguments);return r.split(".").reduce(function(e,r,i,o){var a=i===o.length-1?t.apply(void 0,n):{};return void 0===e[r]?e[r]=a:e[r]},e)};"function"==typeof define&&define.amd?define(r,["NationalInstruments.Vireo.Core.createVireoCore","NationalInstruments.Vireo.Core.assignCoreHelpers","NationalInstruments.Vireo.ModuleBuilders.assignEggShell","NationalInstruments.Vireo.ModuleBuilders.assignHttpClient"],t):"object"==typeof module&&module.exports?module.exports=t(require("../../dist/vireo.js"),require("../../source/core/module_coreHelpers.js"),require("../../source/io/module_eggShell.js"),require("../../source/io/module_httpClient.js")):n(e.NationalInstruments.Vireo.Core.createVireoCore,e.NationalInstruments.Vireo.Core.assignCoreHelpers,e.NationalInstruments.Vireo.ModuleBuilders.assignEggShell,e.NationalInstruments.Vireo.ModuleBuilders.assignHttpClient)}(this,"NationalInstruments.Vireo.Vireo",function(){"use strict";var e=arguments[0],r=Array.prototype.slice.call(arguments,1),t=function(){var t=this,n={},i=[];if(n.stdout=function(e){null===e||10===e?(n.print(n.coreHelpers.sizedUtf8ArrayToJSString(i,0,i.length)),i=[]):i.push(e)},"function"!=typeof e)throw new Error("createVireoCore could not be found, make sure to build and include vireo.js before using");e(n),r.forEach(function(e){e(n,t)})};return t});
//# sourceMappingURL=niVireoModules.min.js.map